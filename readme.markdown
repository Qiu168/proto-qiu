# proto-qiu

## introduce
proto-qiu is a project that mimics google-protobuf, and it implements

1. Parse the`.proto` file
2. `import` is supported and `Any` is implemented
3. `message`, `enum`, `oneof`, and `map` are supported
4. Generate a `.java` file
5. There are test cases

Plan to realize
1. rpc support
2. packed coding

## getting start

### install
```Bash
git clone https://github.com/Qiu168/proto-qiu.git

cd proto-qiu

go install proto-qiu
```

### usage

```Bash
proto-qiu -java_out=["java out path"] [proto input path]
```

### example
```Bash
# 编译单个文件
proto-qiu -java_out="./output" ./proto/example.proto

# 编译目录下所有 proto 文件
proto-qiu -java_out="./output" ./proto/

# 查看版本
proto-qiu -version
```

### Command line parameter
- -java_out : 指定生成的 Java 文件输出目录
- -version : 显示版本信息
- -h : 显示帮助信息

## project structure

```plaintext
proto-qiu/
├── constant/       # 常量定义
├── generator/      # 代码生成器
├── protoc/         # proto 文件解析器
├── java/           # java sdk
├── proto/          # proto 文件
└── example/        # file generated by proto-qiu
```

## test in project
## generator/java/protoc_java_test.go
test generate .java
### example\proto3\ExampleTest.java
test generated .java
### java\AnyTest.java
test my Any impl
### java\GeneratedMessageCompareTest.java
proto-qiu encode vs google-protobuf encode
### protoc\protoc_lexer_test.go
test .proto word detect
### protoc\protoc_test.go
test parse .proto
